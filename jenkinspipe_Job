pipeline {
    agent any
    tools{
    maven 'Maven_Home'
    jdk 'Home_JAVA'
    }
    stages{
        stage('Initialize') {  
             steps{
                git branch: 'master', url: 'https://github.com/vikramsingh-96/maven-project.git'
                  }
        }
        stage('Building project'){
             steps('Acnknowlegment')
             {
                sh 'mvn clean install'
                echo 'This is just a sample build trigger JOB'
             }
         }
        
        stage('Deploying_Tomcat'){
            steps{
               sshagent(['Deply_tomcat']) {
                    sh 'scp -o StrictHostKeyChecking=no /var/lib/jenkins/workspace/Maven_Pipeline_Tomcat/webapp/target/webapp.war  ec2-user@52.14.33.219:/opt/tommy/apache-tomcat-10.0.12/webapps'
                }
            }
        }
    }
 }

