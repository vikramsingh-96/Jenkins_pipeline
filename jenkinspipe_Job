pipeline {
    agent any
    tools{
    maven 'Maven_Home'
    jdk 'Home_JAVA'
    }
    stages{
        stage('Initialize') {  
             steps{
                git branch: 'master', url: 'https://github.com/vikramsingh-96/maven-project.git'
                  }
        }
        stage('just learning'){
             steps('Acnknowlegment')
             {
                echo 'This is just a sample build trigger JOB'
             }
            }
        stage('Build'){
            steps{
            sh 'mvn -B package'
                }
        }
        stage('Deploy'){
            steps{
                sshagent(['Deply_tomcat']) {
                    sh scp -o StrictHostKeyChecking=no /webapp/target/webapp.war  ec2-user@18.222.183.9:/opt/tommy/apache-tomcat-10.0.12/webapps
                    }  
        }
    }
 }
}
